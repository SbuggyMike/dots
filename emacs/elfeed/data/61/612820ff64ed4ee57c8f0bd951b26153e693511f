<!-- SC_OFF --><div class="md"><p>So I just finished my first Linux installation outside of a virtualmachine, and I know Arch may not have been the best choice but out of all the ones I tried in VMs it is by far my favourite, but I have noticed that my computer gets extremely slow internet now.</p> <p>I&#39;ve spent quite a few hours looking over reddit, stackoverflow and a lot of other websites and so far I have found not many things that have actually helped.</p> <p>Before I mention all the things that I have already tried, I&#39;ll just put in some basic information. So I am using the built in ethernet controller on the ASRock B450 Steel Legend motherboard, which is the RTL8111H controller. On windows, I get around 30Mbits/s but on Arch I could barely top 20kbits/s.</p> <p>So the first thing I tried was switching drivers. This is actually listed on the Arch wiki, since apparently the r8169 driver has received quite a few complaints from people using the same controller I am using. The wiki recommended that I switch to r8168, which is what I have done. After switching to this driver, I was able to get my internet to a stable 50 kbits/s. So it was definitely an improvement, but this was very far from what I am expecting.</p> <p>The next thing I tried was editing resolv.conf to put in better DNS servers. In case anyone else sees this post with a similar issue, what I did was make a file called &quot;resolv.conf.head&quot; and added in google&#39;s DNS servers (<a href="https://8.8.8.8">8.8.8.8</a> and <a href="https://8.8.4.4">8.8.4.4</a>) in the same format as resolv.conf. This actually made a VERY big difference. I was able to get to a stable 400kbits/s with occasional rises to 1mbit/s. I have only seen it get as high as 1mbit/s when no one else was using the internet for anything though, most of the time it is hanging around the 400 mark with sometimes dropping to around 250.</p> <p>Those were the only things I have tried so far that actually helped increase my speed, though I&#39;ll list a few things I have tried that didn&#39;t help just so I don&#39;t have to go through all the comments saying &quot;I&#39;ve already done this&quot;.</p> <p>I tried running the command <code>sysctl net.ipv4.tcp_ecn=0</code>. In case it matters, this value is set to 2 by default on my system, though I did not notice any improvement after changing it.</p> <p>I have also been told multiple times that I should disable fast boot as that can sometimes interfere, I can confirm that it is in fact disabled on my system.</p> <p>The next thing I was told to do was switch to NetworkManager from netctl. Although I have not noticed any improvements speed-wise, I will mention this did help out quite a bit with another issue I had. DHCPCD was playing up on my system for whatever reason, I must have just configured netctl badly or something, but NetworkManager fixed it quickly and painlessly.</p> <p>The final thing I have tried is something that is a bit of a given for what to try when something isn&#39;t working but I&#39;ll put it here anyway, though updating my packages with pacman. I have done <code>pacman -Syu</code> and it did update a few things including r8168. I think there may have been a very small speed boost when I did this, though it was not really noticeable.</p> <p>So to sum up, after trying most of what comes up when you google this issue I was able to boost my internet to around 400kbits/s with occasional spikes to 1mbit/s, though this is still much less than what I would expect from this system. So does anyone know what else I could do to try and boost this a bit more? Thanks :)</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Chared_Assassin"> /u/Chared_Assassin </a> <br/> <span><a href="https://www.reddit.com/r/archlinux/comments/vzlq06/what_can_i_do_to_try_and_fix_extremely_slow/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/archlinux/comments/vzlq06/what_can_i_do_to_try_and_fix_extremely_slow/">[comments]</a></span>