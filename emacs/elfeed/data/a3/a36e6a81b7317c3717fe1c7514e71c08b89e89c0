<!-- SC_OFF --><div class="md"><p>So, this seems to be a common issue on AMD hardware on Linux and I haven&#39;t really found a post on the internet that describes a clear cause and solution for this issue, so I decided to make this post.</p> <p>First, I want to describe the issue. If under gaming load, your PC randomly reboots due to an error similar to this:</p> <pre><code>Jul 13 20:35:56 archlinux kernel: mce: [Hardware Error]: Machine check events logged Jul 13 20:35:56 archlinux kernel: mce: [Hardware Error]: CPU 0: Machine Check: 0 Bank 27: faa000000000080b Jul 13 20:35:56 archlinux kernel: mce: [Hardware Error]: TSC 0 MISC d012000200000000 SYND 5d000000 IPID 1002e00000500 Jul 13 20:35:56 archlinux kernel: mce: [Hardware Error]: PROCESSOR 2:a20f10 TIME 1657740954 SOCKET 0 APIC 0 microcode a201016 Jul 13 20:35:57 archlinux kernel: MCE: In-kernel MCE decoding enabled. </code></pre> <p>Then there are a number of possibilities</p> <ol> <li>You&#39;re overclocking your CPU, and you&#39;re pushing it too hard, so dial it down a notch.</li> <li>If this error happens at idle, then it&#39;s due to c-states on Zen CPUs, I will cover this later in the post.</li> <li>Bad RAM</li> <li>Bad GPU</li> <li>A bad <code>linux-firmware</code> version</li> </ol> <p>To check what caused your machine to crash, run <code>journalctl -k --grep=mce</code> . If you see something similar to the error messages in the box above, then the first thing you should try is to downgrade your <code>linux-firmware</code> . If that fixes the random reboots during gaming, then it&#39;s just a software issue and your hardware is fine.</p> <p>If you get the mce crashes when your AMD Zen system is idle, then addling the kernel parameter <code>processor.max_cstate=5</code> is likely to fix the issue. If that doesn&#39;t fix it, you can also try to downgrade the <code>linux-firmware</code> package. If the issue persists, then you might want to stress test your CPU, RAM, and GPU, because this might be an actual hardware issue( or an issue of bad overclocks/XMP settings).</p> <p>I hope this helps people with this issue. I&#39;ve had it a number of times since I switched to an all AMD build last year, and it seemed to randomly come and go, and it was driving me insane. Turns out that in my case, the fix was as simple as downgrading <code>linux-firmware</code> to an older version that I remembered to be stable.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/doomenguin"> /u/doomenguin </a> <br/> <span><a href="https://www.reddit.com/r/archlinux/comments/vz5apu/a_solution_to_mce_hardware_error_reboots_on_amd/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/archlinux/comments/vz5apu/a_solution_to_mce_hardware_error_reboots_on_amd/">[comments]</a></span>