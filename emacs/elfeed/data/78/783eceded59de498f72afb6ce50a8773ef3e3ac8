<!-- SC_OFF --><div class="md"><p>I&#39;ve been using lsp for a while on my laptop to edit c files (clangd). It works brilliantly.</p> <p>&#x200B;</p> <p>I just started using it on another computer, and although it works fine for the first buffer I open in a project, every subsequent buffer that I open highlights an error that one of the included libraries is &quot;not found.&quot; I use CMake, so I&#39;ve pointed to the build/compile_commands.json, which seems to be picked up when I open the first buffer, but for some reason, every other buffer after the first does not see it _unless_ I restart the workspace.</p> <p>&#x200B;</p> <p>Summary:</p> <p>I need to restart my lsp workspace in every buffer after the first in a project for it to pick up the correct compile_commands.json, but it seems to work on another computer.</p> <p>I&#39;m not sure what I can do to debug this, since the logs printed to clangd::stderr and lsp-log don&#39;t show anything abnormal. Anyone have any pointers on where I can look next?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Quadratic_Resi_Do"> /u/Quadratic_Resi_Do </a> <br/> <span><a href="https://www.reddit.com/r/emacs/comments/wg5itx/need_to_restart_lsp_workspace_for_every_new_buffer/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/emacs/comments/wg5itx/need_to_restart_lsp_workspace_for_every_new_buffer/">[comments]</a></span>