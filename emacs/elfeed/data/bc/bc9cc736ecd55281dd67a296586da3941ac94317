<p>Just a quickie today. <a href="https://www.bytedude.com">Bytedude</a> wanted to <a href="https://www.bytedude.com/custom-eshell-prompts/">customize his Eshell prompt to add the date/time</a>. With most shells, that’s simply a matter of changing an environment variable but with Eshell it’s a little more complicated.</p>
<p>It turns out the Eshell forms the prompt by calling a function and if you want to change the prompt you have to provide a new function. That’s easy because the function is pointed to by a variable so you need only change the variable to point at your own function. The function itself need merely form the desired string for the prompt.</p>
<p>A slight complication is that Eshell needs to be able to recognize prompts. It does that with a regex so if you change the prompt, you may need to change the regex. Take a look at Bytedude’s post for the details. The Emacs Wiki also has <a href="https://www.emacswiki.org/emacs/EshellPrompt">documentation on setting Eshell prompts</a> that is worth taking a look at if you’re interested in customizing your Eshell prompt.</p>