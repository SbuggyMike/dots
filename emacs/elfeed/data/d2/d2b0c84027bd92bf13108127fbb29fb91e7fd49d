<!-- SC_OFF --><div class="md"><p>For those who don&#39;t know, tree-sitter is &quot;an incremental parsing system&quot;. What it basically means is that it provides fancy syntax highlighting by doing a thorough analysis of the code.</p> <p>Emacs has treesitter integration via the <code>tree-sitter</code> package. I was using tree-sitter before on neovim and it really great. Well, I&#39;m trying to set it up in emacs and it&#39;s pure frustration.</p> <p>I&#39;ve installed the package, and it says that you should also install a language pack. Well, since I was already using treesitter before, then I prefer to not have to compile the language parsers twice, so I decided to unify it in a single directory for both neovim and emacs. Making the change on neovim was a piece of cake. On emacs, I pushed to the <code>tree-sitter-load-path</code> list, and it seems to work... kinda. If I manually call <code>tree-sitter-require &#39;python</code> for example, it does load the language parser, it even gets listed in <code>tree-sitter-languages</code>. However, it doesn&#39;t get enabled, the syntax is the same.</p> <p>The variable <code>tree-sitter-language</code> is not getting set. Apparently tree-sitter should map each language major mode to a tree-sitter parser, but it ain&#39;t doing it for some reason. Trying to enable treesitter on a python file results in the error &quot;No language registered for &quot;python-mode&quot;&quot;.</p> <p>Also what about these major modes for each language? I don&#39;t want a major mode for each language. I want emacs to open a file, recognize what it is by its extension or otherwise, and that&#39;s it. I want highlighting to be handled by treesitter, but it apparently needs to interact with these major modes (of which I need to install more if I want to support other languages) that don&#39;t really add anything to me other than bloat. Is there a workaround?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/SnooPets20"> /u/SnooPets20 </a> <br/> <span><a href="https://www.reddit.com/r/emacs/comments/wi8npy/having_trouble_setting_up_treesitter/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/emacs/comments/wi8npy/having_trouble_setting_up_treesitter/">[comments]</a></span>