<!-- SC_OFF --><div class="md"><p>As I read this subreddit I saw many post about errors and problems with <code># pacman -Syu</code>, so I decided to create this post with possible ways of solving those problems.</p> <p><strong>pacman shows errors with mirrors</strong></p> <ol> <li>check if you are connected to internet; try <code>ping google.com</code> - if it works, you are connected; if not try <code>ping 8.8.8.8</code> (it&#39;s Google DNS server); if it works - you have problem with DNS, read <a href="https://wiki.archlinux.org/title/Dhcpcd">wiki</a> and <a href="https://wiki.archlinux.org/title/Network_configuration">wiki</a>; if not - you don&#39;t have internet</li> <li>try running <code># pacman -Syyu</code> - it forces a refresh of all databases; if it doesn&#39;t work, use <a href="https://wiki.archlinux.org/title/Reflector">Reflector</a> to retrieve latest mirrors and execute <code># pacman -Syyu</code></li> </ol> <p><strong>pacman shows error with signing and keyring</strong></p> <ol> <li>try <code># pacman -Sy archlinux-keyring &amp;&amp; pacman -Su</code> (probably the only package which can be upgraded with <code># pacman -Sy</code>) <a href="https://wiki.archlinux.org/title/Pacman/Package_signing#Upgrade_system_regularly">wiki</a></li> </ol> <p><strong>db lock</strong></p> <ol> <li><a href="https://wiki.archlinux.org/title/Pacman#%22Failed_to_init_transaction_(unable_to_lock_database">wiki</a>%22_error)</li> </ol> <p><strong>other errors</strong></p> <ol> <li><a href="https://wiki.archlinux.org/title/Pacman#%22Failed_to_commit_transaction_(conflicting_files">Conflicting files error</a>%22_error) (may happen if <code>make install</code> puts files in <code>/usr/bin</code> instead of <code>/usr/local/bin</code>) <a href="https://wiki.archlinux.org/title/Creating_packages#build(">wiki</a>)</li> <li><a href="https://wiki.archlinux.org/title/Pacman#%22Failed_to_commit_transaction_(invalid_or_corrupted_package">Invalid / corrupted package</a>%22_error)</li> <li>Package version is too high - run <code>pacman -Syuu</code> (<code>-uu</code> allows downgrades; <a href="https://man.archlinux.org/man/pacman.8">man page</a>)</li> <li>if some hook aborted transaction - read files in <code>HookDir</code> [from <code>/etc/pacman.conf</code>, default = <code>/etc/pacman.d/hooks</code>] and <code>/usr/share/libalpm/hooks</code></li> <li>Read <a href="https://wiki.archlinux.org/title/Pacman#Troubleshooting">wiki</a> and other pacman-related articles</li> <li>(thanks to <a href="/u/PineappleScanner">u/PineappleScanner</a>) enabling <code>multilib</code> repo in <code>/etc/pacman.conf</code> with <code>archinstall</code> script enables also <code>multilib-testing</code> repo</li> </ol> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Potega_Punktu"> /u/Potega_Punktu </a> <br/> <span><a href="https://www.reddit.com/r/archlinux/comments/w7iu66/arch_does_not_upgrade_list_of_possible_ways_of/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/archlinux/comments/w7iu66/arch_does_not_upgrade_list_of_possible_ways_of/">[comments]</a></span>