<!-- SC_OFF --><div class="md"><p>I had an Arch Linux machine running on Google Cloud. I was running low on space and needed to expand the disk. The single disk on the machine was under /dev/sda and my data partition was /dev/sda2.</p> <p>I was following the instruction on <a href="https://cloud.google.com/compute/docs/disks/resize-persistent-disk">https://cloud.google.com/compute/docs/disks/resize-persistent-disk</a>. I messed up on the step that says:</p> <p>&quot;Move GPT data structures to the end of the disk to align the GPT table.&quot;</p> <p>Instead of doing:</p> <pre><code>sudo sgdisk --move-second-header /dev/sda </code></pre> <p>I did:</p> <pre><code>sudo sgdisk --move-second-header /dev/sda2 </code></pre> <p>The system froze. I mounted the disk to another instance to see what it looks like now and if I do <code>df -h</code> I get this things for the broken disk:</p> <pre><code>/dev/sda15 124M 5.9M 118M 5% /boot/efi </code></pre> <p>Is there a way to get some data back from the old disk? I don&#39;t care to have the old system up and running, I just need to unearth some files, whatever I can.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/tterranigma"> /u/tterranigma </a> <br/> <span><a href="https://www.reddit.com/r/archlinux/comments/vy6d63/help_messed_up_my_disk_partitions_by_moving_the/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/archlinux/comments/vy6d63/help_messed_up_my_disk_partitions_by_moving_the/">[comments]</a></span>