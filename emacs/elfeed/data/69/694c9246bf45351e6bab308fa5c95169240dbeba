<!-- SC_OFF --><div class="md"><p>I&#39;m running Steam with Flatpak and I noticed that Windows games running through Proton (any version) won&#39;t launch because they can&#39;t detect a GPU. Every game that I run with Proton has an error similar to &quot;You need a device compatible with DirectX 10&quot; or &quot;Failed to detect graphics device&quot;. They used to run just fine before, I don&#39;t know when it broke.</p> <p>When running the same games with the Steam version distributed by the Arch, they run without issue. Native Linux games run fine on both Flatpak and Steam runtime. Other Flatpak apps don&#39;t have this issue (such as Bottles).</p> <p>I don&#39;t even know where to begin to diagnose this as logs from both the native and the Flatpak are mostly identical except for this line:</p> <pre><code>/usr/lib/i386-linux-gnu/GL/default/share/libdrm/amdgpu.ids: No existe el fichero o el directorio </code></pre> <p>(&quot;No existe el fichero o el directorio&quot; roughly translates to &quot;No such file or directory&quot;)</p> <p>This may have something to do with me installing both open and proprietary AMD drivers but I&#39;m not sure.</p> <p>Both Arch and Flatpak are fully updated.</p> <pre><code>0a:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Navi 21 [Radeon RX 6800/6800 XT / 6900 XT] (rev c1) Subsystem: Sapphire Technology Limited Device e438 Kernel driver in use: amdgpu </code></pre> <p>Thanks :)</p> <p><strong>EDIT: SOLVED</strong> after I mixed and matched some of the replies.</p> <p>I deleted all Proton versions (both official and GE) and all pfx inside steamapps/compdata (this might not have been necessary). After reinstalling Proton I noticed that some games would start with Proton Experimental and others wouldn&#39;t, but it was mostly games that needed EAC or other kinds of AC that were broken, so I downloaded <a href="https://github.com/GloriousEggroll/proton-ge-custom#flathub">Proton-GE from Flathub</a> and now all games work when using Proton-GE from Flathub. I was installing Proton-GE manually before but that didn&#39;t work.</p> <p>Turns out it wasn&#39;t an Arch related issue but more like a sandboxing one as <a href="/u/rualf">u/rualf</a> mentioned, although all games used to work before and I still don&#39;t know what broke it.</p> <p>Thanks everyone!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/ibbbk"> /u/ibbbk </a> <br/> <span><a href="https://www.reddit.com/r/archlinux/comments/w97i2w/steam_flatpak_games_dont_detect_a_gpu/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/archlinux/comments/w97i2w/steam_flatpak_games_dont_detect_a_gpu/">[comments]</a></span>