<!-- SC_OFF --><div class="md"><p>I am trying to set up <a href="https://en.wikipedia.org/wiki/Duplicati">duplicati</a> (backup software) so that it can access my home directory to back it up. This seemed like a good fit for <a href="https://wiki.archlinux.org/title/Access_Control_Lists">ACLs</a>, so my first thought was to use those. ACLs should be enabled on my ext4 filesystem, and as expected <code>tune2fs -l</code> shows &quot;acl&quot;, and /proc/mounts does not show &quot;noacl&quot;.</p> <p>Duplicati runs as the user &quot;duplicati&quot; in the group &quot;duplicati&quot; (I&#39;ve confirmed this with <code>systemctl status duplicati.service</code>). So, I tried to give access with: <code>setfacl -R -m &#39;g:duplicati:rw&#39; $HOME</code>. However, duplicati still complained about permissions errors. I tried <code>sudo -g duplicati ls $HOME</code>, and it correctly listed my home directory. So then I tried to set it up to work with the user &quot;duplicati&quot;, not the group, with <code>setfacl -R -m &#39;u:duplicati:rw&#39; $HOME</code>. After that, running <code>sudo -u duplicati ls $HOME</code> shows a permissions error.</p> <p><code>getfacl $HOME</code> gives:</p> <pre><code># file: home/vikingofrock # owner: vikingofrock # group: vikingofrock user::rwx user:duplicati:rw- group::--- group:duplicati:rw- mask::rw- other::--- </code></pre> <p>So, my questions are:</p> <ol> <li>Why can the duplicati group access my home directory (as checked via sudo), but not the duplicati user?</li> <li>Why can&#39;t duplicati (the software) seem to access my home directory, despite being in the duplicati group (which apparently has access)?</li> <li>Is there a different set-up I should be using to get this to work? I&#39;d rather not just give global permissions to let everything access my home directory if I can avoid it.</li> </ol> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/VikingofRock"> /u/VikingofRock </a> <br/> <span><a href="https://www.reddit.com/r/archlinux/comments/warluv/how_do_i_give_duplicati_access_to_my_home/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/archlinux/comments/warluv/how_do_i_give_duplicati_access_to_my_home/">[comments]</a></span>