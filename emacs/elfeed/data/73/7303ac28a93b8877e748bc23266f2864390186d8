Commons passes new laws that even some Tories say will place the UK in breach of international law 