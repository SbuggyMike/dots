<!-- SC_OFF --><div class="md"><p>My current mkinitcpio.conf looks like this:</p> <p>HOOKS=(base udev autodetect keyboard keymap consolefont modconf block encrypt filesystems fsck)</p> <p>According to mkinitcpio examples from wiki, If I&#39;m correct, I should change it to: HOOKS=(base systemd autodetect keyboard sd-vconsole block sd-encrypt filesystems fsck) Keymap and consolefont is replaced by sd-vconsole if I&#39;m correct.</p> <p>I have changed boot entry from cryptdevice=... To rd.luks.name=uuid=cryptroot rd.luks.options=allow-discard</p> <p>After running mkinitcpio -P and rebooting my system, it hung on the message: A start job is running for /dev/mapper/cryptroot</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/darkside10g"> /u/darkside10g </a> <br/> <span><a href="https://www.reddit.com/r/archlinux/comments/131thyv/how_to_switch_from_encrypt_to_sdencrypt_hook/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/archlinux/comments/131thyv/how_to_switch_from_encrypt_to_sdencrypt_hook/">[comments]</a></span>